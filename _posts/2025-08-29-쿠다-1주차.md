---
layout : post
title : 쿠다ML 1주차
categories : 데이터비즈니스
---
## CH2. 데이터와 표본분포

**용어 정리**

| 용어 | 영어 | 정의 |
|------|------|------|
| 표본 | sample | 더 큰 데이터 집합으로부터 얻은 부분집합 |
| 모집단 | population | 어떤 데이터 집합을 구성하는 전체 대상 혹은 전체 집합 |
| N(n) | - | 모집단(표본)의 크기 |
| 임의표본추출 (임의표집, 랜덤표본추출) | random sampling | 무작위로 표본을 추출하는 것 |
| 층화표본추출 (층화표집) | stratified sampling | 모집단을 층으로 나눈 뒤, 각 층에서 무작위로 표본을 추출하는 것 |
| 계층 | stratum (복수형 strata) | 공통된 특징을 가진 모집단의 동종 하위 그룹 |
| 단순임의표본 (단순랜덤표본) | simple random sample | 모집단 층화 없이 임의표본추출로 얻은 표본 |
| 편향 | bias | 계통상의 오류 |
| 표본편향 | sample bias | 모집단을 잘못 대표하는 표본 |

샘플 기반의 추정이나 모델링에서 데이터 품질은 데이터 양보다 더욱 중요!

데이터 품질 : 완결성, 형식의 일관성, 깨끗함 및 각 데이터 값의 정확성 의미

데이터 수집 시 통계적 편향은 측정과정 or 표본 추출 과정에서 생길 수 있음

임의 표본 추출로 인한 오류 : 표본마다 값이 달라서 생기는 오류

편향에 따른 오류 : 설계 상의 오류

**크기와 품질 : 크기는 언제 중요해질까?**

데이터의 크기와 품질을 결정할 때, 크기는 찾고자 하는 데이터가 희소할 때 중요해진다.

**통계학에서의 표본분포**

| 용어             | 영어 표현                  | 정의                                                                                  |
|------------------|---------------------------|---------------------------------------------------------------------------------------|
| 표본통계량       | sample statistic          | 더 큰 모집단에서 추출된 표본 데이터들로부터 얻은 측정 지표                            |
| 데이터 분포      | data distribution         | 어떤 데이터 집합에서의 각 개별 값의 도수분포                                          |
| 표본분포         | sampling distribution     | 여러 표본들 혹은 재표본들로부터 얻은 표본통계량의 도수분포                            |
| 중심극한정리     | central limit theorem     | 표본크기가 커질수록 표본분포가 정규분포를 따르는 경향                                  |
| 표준오차         | standard error            | 여러 표본들로부터 얻은 **표본통계량의 변량** (개별 데이터 값들의 변량을 뜻하는 **표준편차와 혼동하지 말 것**) |

표본통계량으로 어떤 것을 측정하거나 무언가를 모델링하기 위해 표본을 뽑는다. 여기서 우리의 주요 관심사는 **표본의 변동성**

표본이 클수록 표본통계량의 분포가 좁아진다 -> **중심 극한 정리** : 표본크기가 충분하고 데이터가 정규성을 크게 이탈하지 않는 경우, 여러 표본에서 추출한 평균은 종 모양의 정규 곡선을 따름

전통적인 신뢰구간 계산(예: z-검정, t-검정)은 표본평균이 정규분포를 따른다는 중심극한정리를 전제로 함.

그런데 실제 데이터는 왜도가 크거나, 분산이 일정하지 않거나, 표본수가 작을 때 정규 근사가 잘 안 맞을 수 있음.

**부트스트랩**은 그냥 데이터 자체를 재표본하므로 분포 가정을 거의 하지 않아도 됨 → 비모수적 방법.

부트스트랩을 이용하면 새로운 샘플을 뽑을 필요 X (실제로 이 과정은 고난이도, 비효율적)

**부트스트랩**은 배깅, 랜덤포레스트 등의 앙상블을 통해 트리의 안정성과 정확성을 높이는 도구로 쓰일 수 있음. 

**재표본추출 VS 부트스트래핑**

재표본추출 (복원, 비복원 추출 개념 포함) 

→ 복원 추출 : 부트스트랩 (표본 통계량의 변동성 평가하는 강력한 도구)

→ 비복원 추출 : 교차검증, 퍼뮤테이션 테스트 (예측성능 평가 도구)

**신뢰 구간** : 표본추출의 불확실성(=표본 오차) 때문에 필요한 지표 (ex : 평균들의 분포가 대략 어느 범위에 모여 있다.)

부트스트랩 신뢰구간의 장점

1. 분포 가정 불필요

2. 복잡한 통계량에도 적용 가능

3. 작은 표본에서도 활용 가능

4. 계산만 충분히 하면 정밀도 ↑

5. 직관적으로 이해 가능

<img width="803" height="491" alt="image" src="https://github.com/user-attachments/assets/84b58d98-941b-4866-8ac6-7c77de4418a6" />

신뢰구간과 관련된 백분율 : 신뢰수준

신뢰수준이 높을수록, 표본이 작을수록 구간이 더 넓어진다.

**신뢰구간과 구간 폭 해석 정리**

| 상황                         | 구간 폭 변동 | 의미 해석 |
|------------------------------|-------------|-----------|
| 🔼 **신뢰수준이 높아질 때** (90% → 95% → 99%) | 넓어짐 | 더 많은 확신을 담기 위해 **보수적으로 구간을 넓힘** → 불확실성이 커진 게 아님 |
| 🔽 **표본 크기가 작을 때** (n ↓)            | 넓어짐 | 표본 자체의 **변동성이 커짐** → 실제로 불확실성이 커짐 |

---

**정리:**  
- **신뢰수준↑ → 구간 넓어짐 = 확신 ↑ (보수적 추정)**  
- **표본크기↓ → 구간 넓어짐 = 불확실성 ↑ (데이터 한계)**  

**정규분포** : 불확실성과 변동성에 관한 수학적 근사가 가능하도록 하는 기여를 한 분포.

<img width="200" height="410" alt="image" src="https://github.com/user-attachments/assets/ceb59c2d-7f30-41ca-90c8-783ca88da5e7" />

=> 그러나, 데이터는 일반적으로 정규분포를 따르지 않는다. 

분포가 소득 데이터와 같이 비대칭적으로 기울어져 있거나, 이항 데이터와 같이 이산적일 수 있으며, 이는 모두 **긴 꼬리 분포**가 될 수 있음

(긴 꼬리를 잘 들여다보는 것을 실무에서는 중요하게 여긴다. 적은 수의 극단 값이 주로 존재하는 부분이기에)

<img width="200" height="406" alt="image" src="https://github.com/user-attachments/assets/0253151a-58aa-4b77-aee7-cb13e8ca4071" />




