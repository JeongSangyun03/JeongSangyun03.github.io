---
layout : posts
title : 그래프이론
categories : 쿠다ML심화
---
# 18. 그래프 이론 및 네트워크 분석
## 18.1 기본 그래프 이론으로 인기도별 웹 사이트 순위 지정하기
***넘파이는 확장하는 네트워크를 분석하는 적합한 도구인가?***

예시 : 인기도에 따라 웹사이트 순위 매기는 작업

넘파이 튜토리얼(0) 및 사이파이 튜토리얼(1)을 다루는 두 데이터 과학 웹사이트로 간단한 네트워크 구축

각 웹사이트 : 그래프의 **노드**

  → 서로 연결부를 형성할 수 있는 지점

두 노드를 연결한 것 : **에지**

```python
nodes = ['넘파이', '사이파이'] #각 인덱스는 0,1
```
가정 : 사이파이 웹사이트[1]에서 넘파이 웹사이트[0]으로의 종속성 논의 : 클릭 시 nodes[1] → nodes[0], 에지 = (1,0)

![image](https://github.com/user-attachments/assets/c4d7a34d-76b9-42b5-9f5a-e8640beb1df0)

단일 에지 (1,0)은 방향을 갖기에 **방향성 에지**로 표현 가능 (방향성 그래프의 에지(i,j) != 에지(j,i), 사이파이 페이지만 넘파이 페이지에 연결되었고, 그 반대는 아직 이루어지지 않은 상태)

에지 유무를 확인하기 위한 방법 中 하나 : **인접 행렬**

→ not edge_exists (i,j) = 0, edge_exists (i,j) = 1로 표현하여 노드 i와 j 사이에 에지가 있는 곳에만 M[i][j] = 1이 채워진 행렬을 표현

행렬의 크기는 node수의 제곱이 되겠다! (len(nodes)^2, 이진 행렬이면 2X2, 웹페이지가 4개면 4X4)

웹페이지가 추가되면, 행렬의 크기도 늘어나야 한다. but, 넘파이로는 기존 행렬의 모든 값 유지하면서 행렬 크기를 조정하기 어려움 : 다른 파이썬 라이브러리로 전환 필요 (=NetworkX, 네트워크를 쉽게 수정할 수 있는 라이브러리)

### 18.1.1 NetworkX로 웹 네트워크 분석하기
***방향성 그래프***
```matlab
📘 NetworkX 그래프 메서드 
🔹 G = nx.DiGraph() : 방향성 그래프(Directed Graph)를 생성합니다.
🔹 G.add_node(1) : 노드 1을 추가합니다.
🔹 G.nodes[1]['color'] = 'red' : 노드 1에 'color' 속성으로 'red'를 설정합니다.
🔹 G.add_node(2, size=10) : 속성 'size=10'을 가진 노드 2를 추가합니다.
🔹 G.add_nodes_from([3, 4]) : 노드 3, 4를 한 번에 추가합니다.
🔹 G.add_nodes_from([(5, {'label': 'A'}), (6, {'label': 'B'})])
🔹 G.add_edge(1, 2) : 노드 1 ➝ 2 방향으로 간선을 추가합니다.
🔹 G.add_edges_from([(2, 3), (3, 4)]) : 노드 2 ➝ 3, 3 ➝ 4 간선을 추가합니다.
✅ 최종 노드 목록: [(1, {'color': 'red'}), (2, {'size': 10}), (3, {}), (4, {}), (5, {'label': 'A'}), (6, {'label': 'B'})]
✅ 최종 간선 목록: [(1, 2), (2, 3), (3, 4)]
```




